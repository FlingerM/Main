local lib = loadstring(game:HttpGet('https://raw.githubusercontent.com/TheoTheEpic/AquaLib/main/AquaLib.lua'))()
local window = lib.createWindow("HOKJHa's GUI", "HOKJHa's GUI", true) 
local maintab = window.createTab("Main")
local mainsection = maintab.createSection("Helper", false)
local highlight = Instance.new("Highlight")
local player = game.Players.LocalPlayer
local character = player.Character
local input = mainsection.createTextBox("Range", "20")
--loadstring(game:HttpGet("https://raw.githubusercontent.com/78n/SimpleSpy/main/SimpleSpySource.lua"))()
local p = {
    aim = false,
    optionoftp = "Cage1",
}
local head = function()
return character:FindFirstChild("Head")
end
local function LookAtNearbyPlayer()
if head then
    local maxDistance = if tonumber(input.getText()) ~= nil then tonumber(input.getText()) else 20
    local nearestPlayer = nil

    -- Loop through all players to find the nearest one
    for _, otherPlayer in ipairs(game.Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local distance = (otherPlayer.Character.Head.Position - character.Head.Position).Magnitude
            if distance < maxDistance then
                maxDistance = distance
                nearestPlayer = otherPlayer
                A_1 = game:GetService("Workspace")[nearestPlayer.Name].Head
                A_2 = "Grab"
                A_3 = A_1.Position
                A_4 = A_1.CFrame
                local Event = game:GetService("ReplicatedStorage").Events.Grab
                Event:FireServer(A_1, A_2, A_3, A_4)
                local Cage = game:GetService("ReplicatedStorage").Events.ActivateButton
                Cage:FireServer(p[1])
        
            end
        end
    end

    if nearestPlayer then
        -- Calculate the direction to face the nearest player
        local direction = (nearestPlayer.Character.HumanoidRootPart.Position - character.HumanoidRootPart.Position).Unit
        -- Rotate the character
        character.HumanoidRootPart.CFrame = CFrame.lookAt(character.HumanoidRootPart.Position, character.HumanoidRootPart.Position + Vector3.new(direction.X, 0, direction.Z))
        -- Change the camera mode to Classic

        --game.Workspace.CurrentCamera.CameraSubject = character.Humanoid
       
        --local camera = game.Workspace.CurrentCamera
        --camera.CFrame = CFrame.lookAt(camera.CFrame.Position, nearestPlayer.Character.HumanoidRootPart.Position)


end
end
end
window.notification("Hello!", "Welcome that so dangerous but if u used it im reccomend u be in invisible using mind control!")
mainsection.createToggle("Chaos", false, function(v)
    p[0]=v 
    print(p[0])
end)
maintab.createButton("Remove GUI", function()
    p[0]=not p[0]
    window.deleteWindow("HOKJHa's GUI")
end)
mainsection.createDropdown("Teleport", {"Guillotine", "Cage1", "Cage2", "Cage3", "Shark"}, "Cage3", function(value) -- section.createDropdown(name, options, callback)
	v=value 
    p[1]=v 
end)
while wait() do
    if p[0] and character.Humanoid.Health ~= 0 then
        LookAtNearbyPlayer()
    end
    game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, true)
end
